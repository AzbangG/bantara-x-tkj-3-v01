<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>X TKJ 3</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Background Slideshow -->
    <div class="bg-slideshow" id="bgSlideshow"></div>

    <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="user-info" id="userInfo" style="display: none;">
            <span class="user-icon">ğŸ‘¤</span>
            <span class="username" id="username">User</span>
        </div>
        
        <button id="theme-toggle" class="theme-toggle">
            <div class="toggle-track">
                <div class="toggle-thumb">
                    <span class="icon sun">â˜€ï¸</span>
                    <span class="icon moon">ğŸŒ™</span>
                </div>
            </div>
        </button>

        <button id="logout-btn" class="logout-btn" style="display: none;">
            <span>ğŸšª</span>
        </button>
    </nav>

    <div class="header">
        <div class="title-wrapper">
            <h1 class="main-title">
                <span class="title-line">Kelas</span>
                <span class="title-line title-highlight">X TKJ 3</span>
            </h1>
            <div class="title-decoration"></div>
        </div>
        <p class="subtitle">Anak-Anak TKJ 3 Nih</p>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" id="bottomNav">
        <a href="index.html" class="nav-item active">
            <span class="nav-icon">ğŸ‘¥</span>
            <span class="nav-label">Siswa</span>
        </a>
        <a href="jadwal.html" class="nav-item">
            <span class="nav-icon">ğŸ“…</span>
            <span class="nav-label">Jadwal</span>
        </a>
        <a href="info.html" class="nav-item">
            <span class="nav-icon">â„¹ï¸</span>
            <span class="nav-label">Info</span>
        </a>
    </nav>

    <div class="container">

        <div class="card scroll-animate">
            <h3>Abdul Rohim</h3>
            <p><span class="label">Absen:</span> 1</p>
            <a href="detail-rohim.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Abdullah Khaerul Azzam</h3>
            <p><span class="label">Absen:</span> 2</p>
            <a href="detail-azzam.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Aditya Pratama Suhendi</h3>
            <p><span class="label">Absen:</span> 3</p>
            <a href="detail-aditya.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Ahmad Zaky Munawar</h3>
            <p><span class="label">Absen:</span> 4</p>
            <a href="detail-zakymunawar.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Aldiansyah</h3>
            <p><span class="label">Absen:</span> 5</p>
            <a href="detail-aldi.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Alfian Aditiansyah</h3>
            <p><span class="label">Absen:</span> 6</p>
            <a href="detail-alfian.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Arga Fazri Ramadhan</h3>
            <p><span class="label">Absen:</span> 7</p>
            <a href="detail-arga.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Axelle Ashwan Finnegan</h3>
            <p><span class="label">Absen:</span> 8</p>
            <a href="detail-axel.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Bagus Putra Ramadhan</h3>
            <p><span class="label">Absen:</span> 9</p>
            <a href="detail-bagus.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Bayu Lutfiadi</h3>
            <p><span class="label">Absen:</span> 10</p>
            <a href="detail-bayu.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Farel Fadilah</h3>
            <p><span class="label">Absen:</span> 11</p>
            <a href="detail-farelFadilah.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Farrel Surya Ramadhan</h3>
            <p><span class="label">Absen:</span> 12</p>
            <a href="detail-farelSurya.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Garrick Elbert Chandra</h3>
            <p><span class="label">Absen:</span> 13</p>
            <a href="detail-garrick.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Haikal Fadillah</h3>
            <p><span class="label">Absen:</span> 14</p>
            <a href="detail-haikal.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Ihram Maqil Ghaisan</h3>
            <p><span class="label">Absen:</span> 15</p>
            <a href="detail-ihram.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Isabil Nuh Ardiansiah</h3>
            <p><span class="label">Absen:</span> 16</p>
            <a href="detail-isabil.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Margianto</h3>
            <p><span class="label">Absen:</span> 17</p>
            <a href="detail-margianto.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhamad Abi Fadilah</h3>
            <p><span class="label">Absen:</span> 18</p>
            <a href="detail-abi.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhamad Arif Kurniawan</h3>
            <p><span class="label">Absen:</span> 19</p>
            <a href="detail-arif.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhamad Hajik</h3>
            <p><span class="label">Absen:</span> 20</p>
            <a href="detail-hajik.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhammad Alfazar</h3>
            <p><span class="label">Absen:</span> 21</p>
            <a href="detail-fazar.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhammad Fahrel Narwis</h3>
            <p><span class="label">Absen:</span> 22</p>
            <a href="detail-narwis.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhammad Nabil</h3>
            <p><span class="label">Absen:</span> 23</p>
            <a href="detail-nabil.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Muhammad Zaky Muzakir</h3>
            <p><span class="label">Absen:</span> 24</p>
            <a href="detail-zakyMuzakir.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Nadja Mudin Al Ayyuby Nasution</h3>
            <p><span class="label">Absen:</span> 25</p>
            <a href="detail-nadja.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Raditya Ilham Pratama</h3>
            <p><span class="label">Absen:</span> 26</p>
            <a href="detail-raditya.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Rasya Putra Bulivar</h3>
            <p><span class="label">Absen:</span> 27</p>
            <a href="detail-rasya.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Ridho Yudi Al Khafiz</h3>
            <p><span class="label">Absen:</span> 28</p>
            <a href="detail-ridho.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Sendy Arkana Bahrudin</h3>
            <p><span class="label">Absen:</span> 29</p>
            <a href="detail-sendy.html" class="btn-detail">Cek Detail</a>
        </div>

        <div class="card scroll-animate">
            <h3>Vincent</h3>
            <p><span class="label">Absen:</span> 30</p>
            <a href="detail-vincent.html" class="btn-detail">Cek Detail</a>
        </div>

    </div>

    <script>
        // Login Protection
        const isLoggedIn = sessionStorage.getItem('isLoggedIn');
        if (!isLoggedIn || isLoggedIn !== 'true') {
            window.location.href = 'login.html';
        }

        // Show user info and logout button if logged in
        const logoutBtn = document.getElementById('logout-btn');
        const userInfo = document.getElementById('userInfo');
        const usernameDisplay = document.getElementById('username');
        const username = sessionStorage.getItem('username');
        
        if (isLoggedIn === 'true') {
            logoutBtn.style.display = 'flex';
            userInfo.style.display = 'flex';
            
            // Display username with capitalize first letter
            if (username) {
                const displayName = username.charAt(0).toUpperCase() + username.slice(1);
                usernameDisplay.textContent = displayName;
            }
        }

        // Logout handler
        logoutBtn.addEventListener('click', () => {
            sessionStorage.removeItem('isLoggedIn');
            sessionStorage.removeItem('username');
            window.location.href = 'login.html';
        });

        // Background Slideshow - OPTIMIZED
        document.addEventListener('DOMContentLoaded', function() {
            const bgSlideshow = document.getElementById('bgSlideshow');
            
            // Array gambar dari folder Images/Background
            const images = [
                'Images/Background/1.jpg',
                'Images/Background/2.jpg',
                'Images/Background/3.jpg',
                'Images/Background/4.jpg',
                'Images/Background/5.jpg',
                'Images/Background/6.jpg'
            ];
            
            // Buat slide untuk setiap gambar
            images.forEach((img, index) => {
                const slide = document.createElement('div');
                slide.className = 'bg-slide';
                slide.style.backgroundImage = `url('${img}')`;
                if (index === 0) slide.classList.add('active');
                bgSlideshow.appendChild(slide);
            });
            
            // Rotasi slide - SIMPLIFIED (removed Ken Burns effect)
            let currentSlide = 0;
            const slides = document.querySelectorAll('.bg-slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 6000);

            // Dark mode toggle - OPTIMIZED
            const themeToggle = document.getElementById('theme-toggle');
            const savedTheme = localStorage.getItem('theme');
            
            // Load saved theme
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
            }
            
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                
                // Save preference
                localStorage.setItem('theme', 
                    document.body.classList.contains('dark-mode') ? 'dark' : 'light'
                );
            });

            // Scroll Animation - OPTIMIZED dengan Intersection Observer
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        // Delay sederhana tanpa banyak perhitungan
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 30); // Delay lebih kecil untuk performa
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe semua card
            const cards = document.querySelectorAll('.scroll-animate');
            cards.forEach(card => observer.observe(card));

            // Nav item click handler - OPTIMIZED
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    const href = item.getAttribute('href');
                    if (href === '#') {
                        e.preventDefault();
                    }
                    // Update active state dengan requestAnimationFrame untuk smooth transition
                    requestAnimationFrame(() => {
                        navItems.forEach(nav => nav.classList.remove('active'));
                        item.classList.add('active');
                    });
                });
            });
        });
    </script>

</body>
</html>
